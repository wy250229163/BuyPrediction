drop table if exists wy_xgb_pred;
DROP OFFLINEMODEL IF EXISTS wy_xgboost_1;

-- train
PAI
-name xgboost
-project algo_public
-Deta="0.008"
-Dobjective="binary:logistic"
-DitemDelimiter=","
-Dseed="0"
-Dnum_round="4000"
-DlabelColName="label"
-DinputTableName="wy_train_data_fill"
-DenableSparse="false"
-Dmax_depth="10"
-Dsubsample="0.4"
-Dcolsample_bytree="0.6"
-DmodelName="wy_xgboost_1"
-Dgamma="0"
-Dlambda="50" 
-DfeatureColNames=
"user_totaldays_view_total,
user_totaldays_favor_total,
user_totaldays_addcar_total,
user_totaldays_buy_total,
user_last1week_view_total,
user_last1week_favor_total,
user_last1week_addcar_total,
user_last3days_view_total,
user_last3days_favor_total,
user_last3days_addcar_total,
user_last3days_buy_total,
user_last_1_day_view_count,
user_last_1_day_favor_count,
user_last_1_day_addcar_count,
user_last_1_day_buy_count,
user_last_2_day_view_count,
user_last_2_day_favor_count,
user_last_2_day_addcar_count,
user_last_2_day_buy_count,
user_last_3_day_view_count,
user_last_3_day_favor_count,
user_last_3_day_addcar_count,
user_last_3_day_buy_count,
user_totaldays_dawn_total,
user_totaldays_am_total,
user_totaldays_pm_total,
user_last1week_dawn_total,
user_last1week_am_total,
user_last1week_pm_total,
user_last3days_dawn_total,
user_last3days_am_total,
user_last3days_pm_total,
user_last_1day_totalhour,
user_last_2day_totalhour,
user_last_3day_totalhour,
user_last1week_dawn_buy,
user_last1week_am_buy,
user_last1week_pm_buy,
user_last1week_dawn_buyrate,
user_last1week_am_buyrate,
user_last1week_pm_buyrate,
user_last3days_dawn_buy,
user_last3days_am_buy,
user_last3days_pm_buy,
user_last3days_dawn_buyrate,
user_last3days_am_buyrate,
user_last3days_pm_buyrate,
user_lastbuy_diffdays,
user_lastact_diffdays,
user_last1week_favor_count,
user_last1week_addcar_count,
user_last1week_favorandbuy_count,
user_last1week_addcarandbuy_count,
user_last1week_favorandbuy_rate,
user_last1week_addcarandbuy_rate,
user_last3days_favor_count,
user_last3days_addcar_count,
user_last3days_favorandbuy_count,
user_last3days_addcarandbuy_count,
user_last3days_favorandbuy_rate,
user_last3days_addcarandbuy_rate,
user_totaldays_rebuy_itemcount,
user_totaldays_rebuy_itemrate,
item_totaldays_view_total,
item_totaldays_dofavor_total,
item_totaldays_addcar_total,
item_totaldays_dobuy_total,
item_last1week_view_total,
item_last1week_favor_total,
item_last1week_addcar_total,
item_last1week_buy_total,
item_last3days_view_total,
item_last3days_favor_total,
item_last3days_addcar_total,
item_last3days_buy_total,
item_last_1_day_view_count,
item_last_1_day_favor_count,
item_last_1_day_addcar_count,
item_last_1_day_buy_count,
item_last_2_day_view_count,
item_last_2_day_favor_count,
item_last_2_day_addcar_count,
item_last_2_day_buy_count,
item_last_3_day_view_count,
item_last_3_day_favor_count,
item_last_3_day_addcar_count,
item_last_3_day_buy_count,
item_totaldays_dawn_total,
item_totaldays_am_total,
item_totaldays_pm_total,
item_last1week_favor_count,
item_last1week_addcar_count,
item_last1week_favorandbuy_count,
item_last1week_addcarandbuy_count,
item_last1week_favorandbuy_rate,
item_last1week_addcarandbuy_rate,
item_totaldays_rebuy_usercount,
user_totaldays_rebuy_userrate,
user_item_totaldays_view_total,
user_item_totaldays_favor_total,
user_item_totaldays_addcar_total,
user_item_totaldays_buy_total,
user_item_last1week_view_total,
user_item_last1week_favor_total,
user_item_last1week_addcar_total,
user_item_last1week_buy_total,
user_item_last3days_view_total,
user_item_last3days_favor_total,
user_item_last3days_addcar_total,
user_item_last3days_buy_total,
user_item_last_1_day_view_count,
user_item_last_1_day_favor_count,
user_item_last_1_day_addcar_count,
user_item_last_1_day_buy_count,
user_item_last_2_day_view_count,
user_item_last_2_day_favor_count,
user_item_last_2_day_addcar_count,
user_item_last_2_day_buy_count,
user_item_last_3_day_view_count,
user_item_last_3_day_favor_count,
user_item_last_3_day_addcar_count,
user_item_last_3_day_buy_count,
user_item_totaldays_dawn_total,
user_item_totaldays_am_total,
user_item_totaldays_pm_total,
user_item_firstact_diffdays,
user_item_recently_view_diffdays,
user_item_recently_favor_diffdays,
user_item_recently_addcar_diffdays,
user_item_recently_buy_diffday"
-Dbase_score="0.11"
-Dmin_child_weight="100"
-DkvDelimiter=":";


-- predict
PAI
-name prediction
-project algo_public
-DdetailColName="prediction_detail"
-DappendColNames="user_id,item_id"
-DmodelName="wy_xgboost_1"
-DitemDelimiter=","
-DresultColName="prediction_result"
-Dlifecycle="28"
-DoutputTableName="wy_xgb_pred"
-DscoreColName="prediction_score"
-DkvDelimiter=":"
-DfeatureColNames=
"user_totaldays_view_total,
user_totaldays_favor_total,
user_totaldays_addcar_total,
user_totaldays_buy_total,
user_last1week_view_total,
user_last1week_favor_total,
user_last1week_addcar_total,
user_last3days_view_total,
user_last3days_favor_total,
user_last3days_addcar_total,
user_last3days_buy_total,
user_last_1_day_view_count,
user_last_1_day_favor_count,
user_last_1_day_addcar_count,
user_last_1_day_buy_count,
user_last_2_day_view_count,
user_last_2_day_favor_count,
user_last_2_day_addcar_count,
user_last_2_day_buy_count,
user_last_3_day_view_count,
user_last_3_day_favor_count,
user_last_3_day_addcar_count,
user_last_3_day_buy_count,
user_totaldays_dawn_total,
user_totaldays_am_total,
user_totaldays_pm_total,
user_last1week_dawn_total,
user_last1week_am_total,
user_last1week_pm_total,
user_last3days_dawn_total,
user_last3days_am_total,
user_last3days_pm_total,
user_last_1day_totalhour,
user_last_2day_totalhour,
user_last_3day_totalhour,
user_last1week_dawn_buy,
user_last1week_am_buy,
user_last1week_pm_buy,
user_last1week_dawn_buyrate,
user_last1week_am_buyrate,
user_last1week_pm_buyrate,
user_last3days_dawn_buy,
user_last3days_am_buy,
user_last3days_pm_buy,
user_last3days_dawn_buyrate,
user_last3days_am_buyrate,
user_last3days_pm_buyrate,
user_lastbuy_diffdays,
user_lastact_diffdays,
user_last1week_favor_count,
user_last1week_addcar_count,
user_last1week_favorandbuy_count,
user_last1week_addcarandbuy_count,
user_last1week_favorandbuy_rate,
user_last1week_addcarandbuy_rate,
user_last3days_favor_count,
user_last3days_addcar_count,
user_last3days_favorandbuy_count,
user_last3days_addcarandbuy_count,
user_last3days_favorandbuy_rate,
user_last3days_addcarandbuy_rate,
user_totaldays_rebuy_itemcount,
user_totaldays_rebuy_itemrate,
item_totaldays_view_total,
item_totaldays_dofavor_total,
item_totaldays_addcar_total,
item_totaldays_dobuy_total,
item_last1week_view_total,
item_last1week_favor_total,
item_last1week_addcar_total,
item_last1week_buy_total,
item_last3days_view_total,
item_last3days_favor_total,
item_last3days_addcar_total,
item_last3days_buy_total,
item_last_1_day_view_count,
item_last_1_day_favor_count,
item_last_1_day_addcar_count,
item_last_1_day_buy_count,
item_last_2_day_view_count,
item_last_2_day_favor_count,
item_last_2_day_addcar_count,
item_last_2_day_buy_count,
item_last_3_day_view_count,
item_last_3_day_favor_count,
item_last_3_day_addcar_count,
item_last_3_day_buy_count,
item_totaldays_dawn_total,
item_totaldays_am_total,
item_totaldays_pm_total,
item_last1week_favor_count,
item_last1week_addcar_count,
item_last1week_favorandbuy_count,
item_last1week_addcarandbuy_count,
item_last1week_favorandbuy_rate,
item_last1week_addcarandbuy_rate,
item_totaldays_rebuy_usercount,
user_totaldays_rebuy_userrate,
user_item_totaldays_view_total,
user_item_totaldays_favor_total,
user_item_totaldays_addcar_total,
user_item_totaldays_buy_total,
user_item_last1week_view_total,
user_item_last1week_favor_total,
user_item_last1week_addcar_total,
user_item_last1week_buy_total,
user_item_last3days_view_total,
user_item_last3days_favor_total,
user_item_last3days_addcar_total,
user_item_last3days_buy_total,
user_item_last_1_day_view_count,
user_item_last_1_day_favor_count,
user_item_last_1_day_addcar_count,
user_item_last_1_day_buy_count,
user_item_last_2_day_view_count,
user_item_last_2_day_favor_count,
user_item_last_2_day_addcar_count,
user_item_last_2_day_buy_count,
user_item_last_3_day_view_count,
user_item_last_3_day_favor_count,
user_item_last_3_day_addcar_count,
user_item_last_3_day_buy_count,
user_item_totaldays_dawn_total,
user_item_totaldays_am_total,
user_item_totaldays_pm_total,
user_item_firstact_diffdays,
user_item_recently_view_diffdays,
user_item_recently_favor_diffdays,
user_item_recently_addcar_diffdays,
user_item_recently_buy_diffday"
-DinputTableName="wy2_train_data_fill"
-DenableSparse="false";
